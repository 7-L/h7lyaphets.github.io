<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Chapter09 Spring Security | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="9.1 Spring Security简介Spring Security 是为基于Spring的应用程序提供声明式安全保护的安全性框架。SpringSecurity充分利用了DI和AOP技术。本章将使用SpringSecurity保证Web安全性。 9.1.1 SpringSecurity模块SpringSecurity被分成了11个模块     ACL AccessControlList访问控制">
<meta name="keywords" content="JavaWeb,Spring">
<meta property="og:type" content="article">
<meta property="og:title" content="Chapter09 Spring Security">
<meta property="og:url" content="http://yoursite.com/2017/03/09/JavaWeb/Spring/Spring_8/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="9.1 Spring Security简介Spring Security 是为基于Spring的应用程序提供声明式安全保护的安全性框架。SpringSecurity充分利用了DI和AOP技术。本章将使用SpringSecurity保证Web安全性。 9.1.1 SpringSecurity模块SpringSecurity被分成了11个模块     ACL AccessControlList访问控制">
<meta property="og:image" content="http://yoursite.com/2017/03/09/JavaWeb/Spring/Spring_8/Spring_8/14841268654628.jpg">
<meta property="og:image" content="http://yoursite.com/2017/03/09/JavaWeb/Spring/Spring_8/Spring_8/14842242386953.jpg">
<meta property="og:updated_time" content="2017-03-09T15:48:49.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter09 Spring Security">
<meta name="twitter:description" content="9.1 Spring Security简介Spring Security 是为基于Spring的应用程序提供声明式安全保护的安全性框架。SpringSecurity充分利用了DI和AOP技术。本章将使用SpringSecurity保证Web安全性。 9.1.1 SpringSecurity模块SpringSecurity被分成了11个模块     ACL AccessControlList访问控制">
<meta name="twitter:image" content="http://yoursite.com/2017/03/09/JavaWeb/Spring/Spring_8/Spring_8/14841268654628.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-JavaWeb/Spring/Spring_8" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/09/JavaWeb/Spring/Spring_8/" class="article-date">
  <time datetime="2017-03-09T15:45:34.000Z" itemprop="datePublished">2017-03-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Chapter09 Spring Security
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="9-1-Spring-Security简介"><a href="#9-1-Spring-Security简介" class="headerlink" title="9.1 Spring Security简介"></a>9.1 Spring Security简介</h2><p>Spring Security 是为基于Spring的应用程序提供声明式安全保护的安全性框架。SpringSecurity充分利用了DI和AOP技术。本章将使用SpringSecurity保证Web安全性。</p>
<h3 id="9-1-1-SpringSecurity模块"><a href="#9-1-1-SpringSecurity模块" class="headerlink" title="9.1.1 SpringSecurity模块"></a>9.1.1 SpringSecurity模块</h3><p>SpringSecurity被分成了11个模块 </p>
<table>
<thead>
<tr>
<th>ACL</th>
<th>AccessControlList访问控制列表为域对象提供安全性</th>
</tr>
</thead>
<tbody>
<tr>
<td>切面</td>
<td>当使用SpringSecurity注解时，会使用基于AspectJ的且米娜，而不是使用标准的SpringAOP</td>
</tr>
<tr>
<td>CAS客户端</td>
<td>提供与Jasig的中心认证服务（Central Authentication Service）进行集成的功能</td>
</tr>
<tr>
<td>配置</td>
<td>包含通过XML和Java配置SpringSecurity的功能支持</td>
</tr>
<tr>
<td>核心</td>
<td>提供SpringSecurity基本库</td>
</tr>
<tr>
<td>加密</td>
<td>提供了加密和密码编码的功能</td>
</tr>
<tr>
<td>LDAP</td>
<td>支持基于LDAP进行认证</td>
</tr>
<tr>
<td>OpenID</td>
<td>支持使用OpenID进行集中式认证</td>
</tr>
<tr>
<td>Remoting</td>
<td>提供了对SpringRemoting的支持</td>
</tr>
<tr>
<td>标签库</td>
<td>SpringSecurity的JSP标签库</td>
</tr>
<tr>
<td>Web</td>
<td>提供了SpringSecurity基于Filter的Web安全性支持</td>
</tr>
</tbody>
</table>
<a id="more"></a>
<p>其中Core和Configuration模块必须包含在应用程序的类路径下。一般为了保护web应用我们还需要Web模块。</p>
<h3 id="9-1-2-过滤Web请求"><a href="#9-1-2-过滤Web请求" class="headerlink" title="9.1.2 过滤Web请求"></a>9.1.2 过滤Web请求</h3><p>SpringSecurity借助一系列ServletFilter来提供各种安全性功能。<br>DelegatingFilterProxy是一个特殊的ServletFilter。它将工作委托给javax.servlet.Filter实现类，这个实现类作为一个<bean>注册在Spring应用上下文中。</bean></p>
<p>在web.xml中配置过滤器（方法1）</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>Archetype Created Web Application<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">filter</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>springSecurityFilterChain<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.DelegatingFilterProxy<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></div></pre></td></tr></table></figure>
<p>在Java中配置（方法2）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * SpringSecurity配置类</div><div class="line"> * <span class="doctag">@author</span> NikoBelic</div><div class="line"> * <span class="doctag">@create</span> 11/01/2017 14:00</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecurityWebInitializer</span> <span class="keyword">extends</span> <span class="title">AbstractSecurityWebApplicationInitializer</span></span></div><div class="line">&#123;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>不管我们使用web.xml配置还是AbstractSecurityWebApplicationInitializer得子类来配置DelegatingFilterProxy，它都会拦截发往应用中的请求，并将请求委托给ID为springSecurityFilterChain的bean。</p>
<p>配置Security安全细节</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * 配置Web安全的细节</div><div class="line"> * <span class="doctag">@author</span> NikoBelic</div><div class="line"> * <span class="doctag">@create</span> 11/01/2017 15:32</div><div class="line"> */</div><div class="line"><span class="meta">@Configuration</span></div><div class="line"><span class="meta">@EnableWebSecurity</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span></span></div><div class="line">&#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">        http.authorizeRequests().anyRequest().authenticated().and().formLogin().and().httpBasic();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这个简单的默认配置指定了该如何保护HTTP请求，以及客户端认证用户的方案。通过调用authorizeRequest()和anyRequest().authenticated()就会要求所有进入应用的HTTP请求都要进行认证。他也配置SpringSecurity支持基于表单的登陆以及HTTPBasic方式的认证。<br>由于没有配置configure(AuthenticationManagerBuilder)方法，所以没有用户存储支撑认证过程。没有人能够登陆成功。<br><img src="Spring_8/14841268654628.jpg" alt=""><br>TODO：</p>
<ul>
<li>配置用户存储</li>
<li>指定哪些请求需要认证，哪些请求不需要认证，以及所需要的权限</li>
<li>提供一个自定义的登陆界面，替代原来简单的默认登录页。</li>
<li>基于安全限制，有选择的在Web视图上显示特定的内容。</li>
</ul>
<h2 id="9-2-选择查询用户详细信息的服务"><a href="#9-2-选择查询用户详细信息的服务" class="headerlink" title="9.2 选择查询用户详细信息的服务"></a>9.2 选择查询用户详细信息的服务</h2><p>SpringSecurity能够基于各种数据存储来认证用户。它内置了多种常见的用户存储场景，如内存、关系型数据库以及LDAP。</p>
<h3 id="9-2-1-使用基于内存的用户存储"><a href="#9-2-1-使用基于内存的用户存储" class="headerlink" title="9.2.1 使用基于内存的用户存储"></a>9.2.1 使用基于内存的用户存储</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * 基于内存的用户登陆权限配置</div><div class="line"> * <span class="doctag">@Author</span> NikoBelic</div><div class="line"> * <span class="doctag">@Date</span> 11/01/2017 17:43</div><div class="line"> */</div><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">    auth.inMemoryAuthentication().withUser(<span class="string">"lxw"</span>).password(<span class="string">"lxw"</span>).roles(<span class="string">"USER"</span>).and()</div><div class="line">            .withUser(<span class="string">"admin"</span>).password(<span class="string">"admin"</span>).roles(<span class="string">"USER"</span>,<span class="string">"ADMIN"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="9-2-2-基于数据库表进行认证"><a href="#9-2-2-基于数据库表进行认证" class="headerlink" title="9.2.2 基于数据库表进行认证"></a>9.2.2 基于数据库表进行认证</h3><p>SpringSecurity会内置一些查询语句，当查找用户信息时会自动执行。<br>当然我们也可以自定义查询语句来获取用户信息。如下是相关java配置。<br>将默认的sql查询替换为自定义的设计时，要遵循查询的基本协议。</p>
<ul>
<li>所有查询都将用户名作为唯一的参数</li>
<li>认证查询会选取用户名、密码以及启用状态信息。</li>
<li>权限查询会选取0行或多行包含该用户名以及其权限信息的数据。</li>
<li>群组权限查询会选取0行或多行数据，每行数据中都会包括群组ID、群组名称以及权限。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * 配置Web安全的细节</div><div class="line"> * <span class="doctag">@author</span> NikoBelic</div><div class="line"> * <span class="doctag">@create</span> 11/01/2017 15:32</div><div class="line"> */</div><div class="line"><span class="meta">@Configuration</span></div><div class="line"><span class="meta">@EnableWebSecurity</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span></span></div><div class="line">&#123;</div><div class="line">    <span class="meta">@Autowired</span></div><div class="line">    DataSource dataSource;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">        http.authorizeRequests().anyRequest().authenticated().and().formLogin().and().httpBasic();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 用户登陆权限配置</div><div class="line">     * <span class="doctag">@Author</span> NikoBelic</div><div class="line">     * <span class="doctag">@Date</span> 11/01/2017 17:43</div><div class="line">     */</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">        <span class="comment">// 基于内存的用户权限配置</span></div><div class="line">        <span class="comment">//auth.inMemoryAuthentication().withUser("lxw").password("lxw").roles("USER").and()</span></div><div class="line">        <span class="comment">//        .withUser("admin").password("admin").roles("USER","ADMIN");</span></div><div class="line"></div><div class="line">        <span class="comment">// 基于JDBC的用户权限配置</span></div><div class="line"></div><div class="line">        auth.jdbcAuthentication().dataSource(dataSource).</div><div class="line">                usersByUsernameQuery(<span class="string">"select username,password,true from tb_user where username = ?"</span>).</div><div class="line">                authoritiesByUsernameQuery(<span class="string">"select username,'ROLE_USER' from tb_user where username = ?"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>其中datasource是通过自动装配注入的，因此我们需要在root中或者xml中先配置一下数据源。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Spring上下文配置类</div><div class="line"> * 由ContextLoaderListener加载的bean</div><div class="line"> * <span class="doctag">@author</span> NikoBelic</div><div class="line"> * <span class="doctag">@create</span> 09/01/2017 20:30</div><div class="line"> */</div><div class="line"><span class="meta">@Configuration</span></div><div class="line"><span class="meta">@ComponentScan</span>(basePackages = <span class="string">"chapter07"</span>,excludeFilters = &#123;<span class="meta">@ComponentScan</span>.Filter(type = FilterType.ANNOTATION,value = EnableWebMvc.class)&#125;)</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RootConfig</span></span></div><div class="line">&#123;</div><div class="line"></div><div class="line">    <span class="meta">@Bean</span></div><div class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">dataSource</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        DriverManagerDataSource ds = <span class="keyword">new</span> DriverManagerDataSource();</div><div class="line">        ds.setDriverClassName(<span class="string">"com.mysql.jdbc.Driver"</span>);</div><div class="line">        ds.setUrl(<span class="string">"jdbc:mysql://localhost:3306/dmes?characterEncoding=UTF-8"</span>);</div><div class="line">        ds.setUsername(<span class="string">"root"</span>);</div><div class="line">        ds.setPassword(<span class="string">"*******"</span>);</div><div class="line">        <span class="keyword">return</span> ds;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>之后再访问web层就可以使用数据库中已经存储的用户去登陆SpringSecurity校验界面了。<br>补充：一般情况下数据库中的密码并不是明文存储的，因此我们需要一个密码转换方法将SpringSecurity从DB中获取到的密码进行解码。<br>举个栗子：DB中username=niko,password=niko_salt(这是密文哦,用户注册后系统加工后的处理结果)。<br>那么通过MyPasswordDecoder类处理后，我们通过SpringSecurity登录验证的输入为:niko,niko就能正常访问了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Configuration</span></div><div class="line"><span class="meta">@EnableWebSecurity</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span></span></div><div class="line">&#123;</div><div class="line">    <span class="meta">@Autowired</span></div><div class="line">    DataSource dataSource;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">        http.authorizeRequests().anyRequest().authenticated().and().formLogin().and().httpBasic();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 用户登陆权限配置</div><div class="line">     *</div><div class="line">     * <span class="doctag">@Author</span> NikoBelic</div><div class="line">     * <span class="doctag">@Date</span> 11/01/2017 17:43</div><div class="line">     */</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">        <span class="comment">// 基于内存的用户权限配置</span></div><div class="line">        <span class="comment">//auth.inMemoryAuthentication().withUser("lxw").password("lxw").roles("USER").and()</span></div><div class="line">        <span class="comment">//        .withUser("admin").password("admin").roles("USER","ADMIN");</span></div><div class="line"></div><div class="line">        <span class="comment">// 基于JDBC的用户权限配置</span></div><div class="line"></div><div class="line">        auth.jdbcAuthentication().dataSource(dataSource).</div><div class="line">                usersByUsernameQuery(<span class="string">"select username,password,true from tb_user where username = ?"</span>).</div><div class="line">                authoritiesByUsernameQuery(<span class="string">"select username,'ROLE_USER' from tb_user where username = ?"</span>).</div><div class="line">                passwordEncoder(<span class="keyword">new</span> MyPasswordDecoder(<span class="string">"_salt"</span>));</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * 密码解码器</div><div class="line"> * <span class="doctag">@Author</span> NikoBelic</div><div class="line"> * <span class="doctag">@Date</span> 11/01/2017 19:26</div><div class="line"> */</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPasswordDecoder</span> <span class="keyword">implements</span> <span class="title">PasswordEncoder</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">private</span> String salt;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyPasswordDecoder</span><span class="params">(String salt)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">this</span>.salt = salt;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">encode</span><span class="params">(CharSequence charSequence)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> charSequence.toString() + salt;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">matches</span><span class="params">(CharSequence rawPassword, String encodePassword)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> (rawPassword + salt).equals(encodePassword);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="9-2-3-自定义查询用户服务"><a href="#9-2-3-自定义查询用户服务" class="headerlink" title="9.2.3 自定义查询用户服务"></a>9.2.3 自定义查询用户服务</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * 自定义用户权限查询类</div><div class="line"> * 可以配置为MongoDB、Redis等等</div><div class="line"> * <span class="doctag">@Author</span> NikoBelic</div><div class="line"> * <span class="doctag">@Date</span> 11/01/2017 19:38</div><div class="line"> */</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyUserService</span> <span class="keyword">implements</span> <span class="title">UserDetailsService</span></span></div><div class="line">&#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> UserDetails <span class="title">loadUserByUsername</span><span class="params">(String username)</span> <span class="keyword">throws</span> UsernameNotFoundException</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (username.equals(<span class="string">"test"</span>))</div><div class="line">        &#123;</div><div class="line">            List&lt;GrantedAuthority&gt; authorities = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">            authorities.add(<span class="keyword">new</span> SimpleGrantedAuthority(<span class="string">"ROLE_SPITTER"</span>));</div><div class="line">            <span class="keyword">return</span> <span class="keyword">new</span> User(<span class="string">"test"</span>, <span class="string">"test"</span>,authorities );</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UsernameNotFoundException(<span class="string">"没有查询到该用户"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="9-3-拦截请求"><a href="#9-3-拦截请求" class="headerlink" title="9.3 拦截请求"></a>9.3 拦截请求</h2><p>针对不同的功能进行不同等级的安全认证是项目中经常会用到的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">        <span class="comment">// 对全部web请求进行安全校验</span></div><div class="line">        <span class="comment">//http.authorizeRequests().anyRequest().authenticated().and().formLogin().and().httpBasic();</span></div><div class="line"></div><div class="line">        <span class="comment">// 按照URL路径设置安全校验</span></div><div class="line">        http.authorizeRequests().antMatchers(<span class="string">"/weibo/profile"</span>).authenticated()</div><div class="line">                .antMatchers(HttpMethod.GET,<span class="string">"/weibo/testSecurity"</span>).authenticated()</div><div class="line">                .anyRequest().permitAll();</div><div class="line"></div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>以上配置指定了部分url禁止访问，匹配url的字符串支持Ant风格(antMatchers)的通配符。也可以在一个matcher中指定多个url链接，用逗号隔开。url也支持正则表达式regexMachers和anyRequest。<br><code>.regexMachers(&quot;spitters/.*&quot;).authenticated()</code>和<code>/spitters/**</code>所拦截的url是一样的。<br>用来定义如何保护路径的配制方法</p>
<table>
<thead>
<tr>
<th>access(String)</th>
<th>如果给定的SpEL表达式计算结果为true，就允许访问。</th>
</tr>
</thead>
<tbody>
<tr>
<td>anonymous()</td>
<td>允许匿名用户访问</td>
</tr>
<tr>
<td>authenticated()</td>
<td>允许认证过的用户访问</td>
</tr>
<tr>
<td>denyAll()</td>
<td>无条件拒绝所有访问</td>
</tr>
<tr>
<td>fullyAuthenticated()</td>
<td>如果用户是完整认证的话（不是通过Remember-me功能认证的）就允许访问</td>
</tr>
<tr>
<td>hasAnyAuthority(String…)</td>
<td>如果用户具备给定全险种的某一个的话，就允许访问</td>
</tr>
<tr>
<td>hasAnyRole(String…)</td>
<td>如果用户具备给定角色中的某一个的话，就允许访问</td>
</tr>
<tr>
<td>hasAuthority(String)</td>
<td>如果用户具备给定权限的话，就允许访问</td>
</tr>
<tr>
<td>hasIpAddress(String)</td>
<td>如果请求来自给定IP地址的话，就允许访问。</td>
</tr>
<tr>
<td>hasRole(String)</td>
<td>如果用户具备给定角色的话，就允许访问</td>
</tr>
<tr>
<td>not()</td>
<td>对其他访问方法的结果求反</td>
</tr>
<tr>
<td>permitAll()</td>
<td>无条件允许访问</td>
</tr>
<tr>
<td>rememberMe()</td>
<td>如果哟过户是通过Remember-me功能认证的，就允许访问</td>
</tr>
</tbody>
</table>
<p>我们可以将任意数量的antMachers、regexMatcgers、anyRequest连接起来，以满足web安应用安全规则的需要。这些规则按照给定的顺序发挥作用，所以必须将最具体（细粒度）的请求路径放在前面，而最不具体的路径（anyRequest）放在最后面。否则后面的路径配置将会被前面的覆盖。</p>
<h3 id="9-3-1-使用Spring表达式进行安全保护"><a href="#9-3-1-使用Spring表达式进行安全保护" class="headerlink" title="9.3.1 使用Spring表达式进行安全保护"></a>9.3.1 使用Spring表达式进行安全保护</h3><p>使用SpEL表达式可以使安全限制更加灵活强大，以上表格展示了所有限制方法，但是假如我们需要使用一些特殊的安全机制，那么可以使用SpEL表达式。<br>| authentication | 用户的认证对象 |<br>| — | — |<br>| denyAll | 结果始终为false |<br>| hasAnyRole(list of roles) | 如果用户被授予了列表中的人已制定角色，结果为true |<br>| hasRole(role) | 如果用户被授予了指定的角色，结果为true |<br>| hasIpAddress(IP) | 如果来自指定的IP，结果为true |<br>| isAnonymous() | 如果当前用户为匿名用户，结果为true |<br>| isAuthenticated() | 如果当前用户进行了认证，结果为true |<br>| isFullyuAuthenticated() | 如果当前用户进行了完整认证，结果为true |<br>| isRememberMe() | 如果当前用户是通过Remember-me自动认证的，结果为true |<br>| permitAll | 结果为true |<br>| principal | 用户的principal对象 |</p>
<p>.antMachers(“/spitter/me”).access(“hasRole(‘ROLE_SPITTER’) and hasIpAddress(‘192.168.1.2’)”)</p>
<h3 id="9-3-2-强制通道的安全性"><a href="#9-3-2-强制通道的安全性" class="headerlink" title="9.3.2 强制通道的安全性"></a>9.3.2 强制通道的安全性</h3><p>将访问路径强制转换为https</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">http.authorizeRequests().antMatchers(<span class="string">"/weibo/profile/*"</span>).hasRole(<span class="string">"USER"</span>)</div><div class="line">                .antMatchers(HttpMethod.GET,<span class="string">"/weibo/testSecurity"</span>).authenticated()</div><div class="line">                .and()</div><div class="line">                .requiresChannel()</div><div class="line">                .anyRequest().requiresSecure();</div></pre></td></tr></table></figure>
<h3 id="9-3-3-防止跨站请求伪造"><a href="#9-3-3-防止跨站请求伪造" class="headerlink" title="9.3.3 防止跨站请求伪造"></a>9.3.3 防止跨站请求伪造</h3><p>SpringSecurity会默认启动CSRF防护，因此我们无法向其他站点提交请求，以防止页面在被篡改的情况下站点被CSRF攻击。我们可以在jsp页面中的form表单中添加csrf隐藏域(后台传过来的)。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span> = <span class="string">"$&#123;__csrf。paramteterName&#125;"</span> <span class="attr">value</span>=<span class="string">"$&#123;__csrf.token&#125;"</span>/&gt;</span></div></pre></td></tr></table></figure>
<p>或者在SpringSeccurity中禁用CSRF防护。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">http</div><div class="line">    ...</div><div class="line">    .csrf().disable()</div></pre></td></tr></table></figure>
<h3 id="9-4-认证用户"><a href="#9-4-认证用户" class="headerlink" title="9.4 认证用户"></a>9.4 认证用户</h3><p>上面的安全配制方法，虽然配置了一些用户权限问题，但是没有设置登陆界面，所以你咋让我认证啊？<br>解决方案如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 按照URL路径设置安全校验</span></div><div class="line">        http.formLogin() <span class="comment">// 启动默认的登陆表单</span></div><div class="line">                .and()</div><div class="line">                .authorizeRequests()<span class="comment">// 授权通过以后</span></div><div class="line">                .antMatchers(<span class="string">"/weibo/profile/*"</span>).hasRole(<span class="string">"USER"</span>) <span class="comment">// 访问指定路径必须拥有USER角色权限</span></div><div class="line">                .antMatchers(HttpMethod.GET,<span class="string">"/weibo/testSecurity"</span>).authenticated() <span class="comment">// 指定url只允许GET请求</span></div><div class="line">                .anyRequest().permitAll(); <span class="comment">//其他请求均可通过</span></div></pre></td></tr></table></figure>
<h3 id="9-4-1-添加自定义的登陆页"><a href="#9-4-1-添加自定义的登陆页" class="headerlink" title="9.4.1 添加自定义的登陆页"></a>9.4.1 添加自定义的登陆页</h3><p>自己造一个</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">form[<span class="string">'weibo/login'</span> POST](input(username),input(password),submit())</div></pre></td></tr></table></figure>
<p>注意表单提交位置、输入域名称就可以了，简单的一匹。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">http.csrf().disable().formLogin()</div><div class="line">                .loginPage(<span class="string">"/weibo/showLogin"</span>)<span class="comment">// 登陆表单</span></div><div class="line">                .and()</div><div class="line">                .authorizeRequests()<span class="comment">// 授权通过以后</span></div><div class="line">                .antMatchers(<span class="string">"/weibo/profile/*"</span>).hasRole(<span class="string">"USER"</span>) <span class="comment">// 访问指定路径必须拥有USER角色权限</span></div><div class="line">                .antMatchers(HttpMethod.GET,<span class="string">"/weibo/testSecurity"</span>).authenticated() <span class="comment">// 指定url只允许GET请求</span></div><div class="line">                .anyRequest().permitAll(); <span class="comment">//其他请求均可通过</span></div></pre></td></tr></table></figure>
<p>Controller<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line">     * 跳转登陆页面</div><div class="line">     * <span class="doctag">@Author</span> NikoBelic</div><div class="line">     * <span class="doctag">@Date</span> 12/01/2017 19:46</div><div class="line">     */</div><div class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"/showLogin"</span>,method = RequestMethod.GET)</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">showLogin</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"/weibo/login"</span>;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<h3 id="9-4-2-启用HTTP-Basic认证"><a href="#9-4-2-启用HTTP-Basic认证" class="headerlink" title="9.4.2 启用HTTP Basic认证"></a>9.4.2 启用HTTP Basic认证</h3><p>对于普通用户来说，展现一个login表单还可以，但是对于应用程序来说就需要另外一种验证方式了。<br>启用HTTP Basic认证的方式很简单。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 按照URL路径设置安全校验</span></div><div class="line">        http.csrf().disable().formLogin()</div><div class="line">                .loginPage(<span class="string">"/weibo/showLogin"</span>)<span class="comment">// 登陆表单</span></div><div class="line">                .and()</div><div class="line">                .httpBasic()</div><div class="line">                .and()</div><div class="line">                .authorizeRequests()<span class="comment">// 授权通过以后</span></div><div class="line">                .antMatchers(<span class="string">"/weibo/profile/*"</span>).hasRole(<span class="string">"USER"</span>) <span class="comment">// 访问指定路径必须拥有USER角色权限</span></div><div class="line">                .antMatchers(HttpMethod.GET,<span class="string">"/weibo/testSecurity"</span>).authenticated() <span class="comment">// 指定url只允许GET请求</span></div><div class="line">                .anyRequest().permitAll(); <span class="comment">//其他请求均可通过</span></div></pre></td></tr></table></figure>
<p>模拟Basic认证请求<br><img src="Spring_8/14842242386953.jpg" alt=""></p>
<h3 id="9-4-3-RememberMe功能和注销功能"><a href="#9-4-3-RememberMe功能和注销功能" class="headerlink" title="9.4.3 RememberMe功能和注销功能"></a>9.4.3 RememberMe功能和注销功能</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">http.csrf().disable().formLogin()</div><div class="line">                .loginPage(<span class="string">"/weibo/showLogin"</span>)<span class="comment">// 登陆表单</span></div><div class="line">                .and()</div><div class="line">                .logout() <span class="comment">// 注销  清楚remember-me的token</span></div><div class="line">                .logoutSuccessUrl(<span class="string">"/weibo/register"</span>)</div><div class="line">                .and()</div><div class="line">                .httpBasic()<span class="comment">//启动服务器认证功能</span></div><div class="line">                .and()</div><div class="line">                .rememberMe() <span class="comment">// 启动记住我功能</span></div><div class="line">                .tokenValiditySeconds(<span class="number">10</span>) <span class="comment">// 只保存10s的token</span></div><div class="line">                .key(<span class="string">"weiboKey"</span>)</div><div class="line">                .and()</div><div class="line">                .authorizeRequests()<span class="comment">// 授权通过以后</span></div><div class="line">                .antMatchers(<span class="string">"/weibo/profile/*"</span>).hasRole(<span class="string">"USER"</span>) <span class="comment">// 访问指定路径必须拥有USER角色权限</span></div><div class="line">                .antMatchers(HttpMethod.GET,<span class="string">"/weibo/testSecurity"</span>).authenticated() <span class="comment">// 指定url只允许GET请求</span></div><div class="line">                .anyRequest().permitAll(); <span class="comment">//其他请求均可通过</span></div></pre></td></tr></table></figure>
<h2 id="9-5-小结"><a href="#9-5-小结" class="headerlink" title="9.5 小结"></a>9.5 小结</h2><p>Spring Security提供了一种简单、灵活且强大的机制来保护Web应用程序。借助一系列Servlet Filter能够控制对Web资源的访问，包括MVC控制器。借助于Java配置模型，能够简洁的声明Web安全性功能。<br>当认证用户是，可以使用基于内存用户库、关系型数据库、LDAP目录服务器来配置认证功能。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/09/JavaWeb/Spring/Spring_8/" data-id="cj27jtjsq002za7fyuyu821r5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaWeb/">JavaWeb</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring/">Spring</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/03/09/JavaWeb/Spring/Spring_9/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Chapter10 Spring Data
        
      </div>
    </a>
  
  
    <a href="/2017/03/09/JavaWeb/Spring/Spring_7/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Chapter07 SpringMVC高级技术</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hadoop/">Hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/">JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaWeb/">JavaWeb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java基础/">Java基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java爬虫/">Java爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac工具/">Mac工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nosql/">Nosql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/">Oracle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PythonWeb/">PythonWeb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python基础/">Python基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/剑指Offer/">剑指Offer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/剑指offer/">剑指offer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/多线程/">多线程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/大数据/">大数据</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/大数据基础/">大数据基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工具/">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/搜索/">搜索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爬虫/">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面经/">面经</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高并发/">高并发</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Hadoop/" style="font-size: 11.43px;">Hadoop</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/JavaWeb/" style="font-size: 20px;">JavaWeb</a> <a href="/tags/Java基础/" style="font-size: 15.71px;">Java基础</a> <a href="/tags/Java爬虫/" style="font-size: 10px;">Java爬虫</a> <a href="/tags/Linux/" style="font-size: 11.43px;">Linux</a> <a href="/tags/Mac工具/" style="font-size: 12.86px;">Mac工具</a> <a href="/tags/Nosql/" style="font-size: 14.29px;">Nosql</a> <a href="/tags/Oracle/" style="font-size: 14.29px;">Oracle</a> <a href="/tags/PythonWeb/" style="font-size: 10px;">PythonWeb</a> <a href="/tags/Python基础/" style="font-size: 14.29px;">Python基础</a> <a href="/tags/Redis/" style="font-size: 14.29px;">Redis</a> <a href="/tags/Spring/" style="font-size: 18.57px;">Spring</a> <a href="/tags/剑指Offer/" style="font-size: 17.14px;">剑指Offer</a> <a href="/tags/剑指offer/" style="font-size: 10px;">剑指offer</a> <a href="/tags/多线程/" style="font-size: 10px;">多线程</a> <a href="/tags/大数据/" style="font-size: 12.86px;">大数据</a> <a href="/tags/大数据基础/" style="font-size: 12.86px;">大数据基础</a> <a href="/tags/工具/" style="font-size: 10px;">工具</a> <a href="/tags/搜索/" style="font-size: 12.86px;">搜索</a> <a href="/tags/爬虫/" style="font-size: 10px;">爬虫</a> <a href="/tags/面经/" style="font-size: 11.43px;">面经</a> <a href="/tags/高并发/" style="font-size: 14.29px;">高并发</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/05/02/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2017/05/02/大数据/Hadoop/Hadoop学习笔记（二）- HDFS详解/">Hadoop学习笔记（二） - HDFS详解</a>
          </li>
        
          <li>
            <a href="/2017/04/24/大数据/Hadoop/Hadoop学习笔记（一）- Hadoop快速入门/">Hadoop学习笔记（一）- Hadoop快速入门</a>
          </li>
        
          <li>
            <a href="/2017/04/19/Java基础/JVM/JVM学习笔记（基础知识）/">JVM学习笔记（基础知识）</a>
          </li>
        
          <li>
            <a href="/2017/04/18/大数据/大数据基础/Netty学习笔记（一）/">Netty学习笔记（一）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>